## Общие вещи

Для работы требуется:
- PHP ~8.1
- MySQL/MariaDB
-
## Сборка проекта

```
composer install
php artisan migrate
php artisan db:seed
```

Параметры `.env`-файла, которые требуется обязательно настроить на каждом из окружений:

```
APP_NAME=...
APP_ENV=..
APP_DEBUG=false
APP_URL=...

DB_CONNECTION=...
DB_HOST=...
DB_PORT=...
DB_DATABASE=...
DB_USERNAME=...
DB_PASSWORD=...
```
### Основные параметры:

`APP_NAME` - Название проекта\
`APP_ENV` - Название окружения\
`APP_URL` - Полный домен проекта

### Доступы к Базе данных:

`DB_CONNECTION` - Тип подключаемой базы данных\
`DB_HOST` - Хост/контейнер, где расположена база данных\
`DB_PORT` - Порт к базы данных\
`DB_DATABASE` - Имя базы\
`DB_USERNAME` - Имя пользователя, для подключения к базе данных\
`DB_PASSWORD` - Пароль пользователя для подключаения к базе данных

### Почтовые сервисы:

`MAIL_MAILER` - Название почтового сервиса\
`MAIL_HOST` - Хост почтового сервиса\
`MAIL_PORT` - Порт почтового сервиса\
`MAIL_USERNAME` - Имя пользователя, выдаваемое почтовым сервисом \
`MAIL_PASSWORD` Пароль, выдаваемый почтовым сервисом\
`MAIL_ENCRYPTION` - Тип шифрования для почтового сервиса \
`MAIL_FROM_ADDRESS` - С какого адреса, по умолчанию, должны отправляться письма\
`MAIL_FROM_NAME` - Какое имя, по умолчанию, должно быть у отправителя

`MAILGUN_DOMAIN` - Домен, для которого зарегистрирован mailgun\
`MAILGUN_SECRET` - Секретный ключ для mailgun

`EMAIL_CONFIRMATION_LINK` - Ссылка, куда будет вести подтверждение почты (По умолчанию: `${APP_URL}/confirm-email/`)

## Деплой проекта

Сборка с развёртыванием проекта происходит через GitHub, по изменениям в соответствующие ветки проекта: master → stage, release → production.

Общий порядок действий:
1. Создаём в git feature-ветку от master.
2. Ведём разработку и тестирование локально.
3. 1. Для деплоя на stage версию, сливаем feature-ветку в master и пушим.
2. Для деплоя в production, сливаем feature-ветку в master, далее сливаем master в ветку release и пушим
4. Переносим .env со stage на release, с заменой доменного имени и настройкой всех интеграций

Используемые переменные:
- PUBLIC - тип записей, которые видны всем пользователям
- UNLISTED - тип записей, которые доступны только по ссылке
- PRIVATE - тип записей, которые доступны только опубликовавшему их пользователю
